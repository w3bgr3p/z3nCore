

##  HtmlExtensions

### Назначение

`HtmlExtensions` — статический класс с расширениями для работы с элементами HTML в ZennoPoster, включая распознавание QR-кодов и извлечение хэша транзакции из ссылки.

---

### Пример использования

```csharp
// Декодирование QR-кода из элемента страницы
string qr = element.DecodeQr();

// Получение хэша транзакции из ссылки в элементе
string hash = element.GetTxHash();
```


---

## Описание методов

### DecodeQr

```csharp
public static string DecodeQr(this HtmlElement element)
```

- Строит bitmap-скриншот области 200x200 пикселей с элемента.
- Распознаёт QR-код с помощью ZXing.
- Возвращает строку с результатом, либо `"qrIsNull"` если QR не найден, либо `"qrError"` при ошибке.

---

### GetTxHash

```csharp
public static string GetTxHash(this HtmlElement element)
```

- Извлекает атрибут `href` из элемента.
- Если ссылка содержит `/`, возвращает всё после последнего слэша; если заканчивается на `/`, возвращает пустую строку.
- Если ссылка пуста — выбрасывает исключение.
- В случае ошибки пробрасывает исключение с сообщением.

---

## Вспомогательные (внутренние) детали

- Для распознавания QR используется библиотека ZXing (`BarcodeReader`).
- Метод `DrawPartAsBitmap` создаёт изображение элемента.
- Все исключения в `DecodeQr` обрабатываются и возвращают строку ошибки, в `GetTxHash` — пробрасываются дальше.

---

## Особенности

- Методы расширения определены для типа `HtmlElement` и доступны как instance-методы.
- Не требуют дополнительных параметров, работают с переданным элементом напрямую.
- Подходят для интеграции в любые проекты ZennoPoster, где требуется обработка QR-кодов или парсинг ссылок.

