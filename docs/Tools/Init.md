
Класс **Init** предназначен для инициализации и подготовки окружения проекта: управление переменными, настройка браузера, подключение к базе, логирование, базовые проверки и фильтрация аккаунтов. Поддерживает работу с cookies, WebGL, прокси, а также гибкую фильтрацию аккаунтов по условиям.

---

### Пример использования

```csharp
// С браузерным инстансом
var init = new Init(project, instance, log: true);
init.InitVariables("my_nickname");
init.SetBrowser(strictProxy: true);

// Без инстанса браузера (например, для фоновых задач)
var init = new Init(project, log: false);
init.InitVariables();
```


---

## Описание конструкторов

```csharp
public Init(IZennoPosterProjectModel project, Instance instance, bool log = false)
```

- **instance**: Экземпляр браузера для управления браузером и его настройками.
- **log**: Включить или выключить расширенное логирование для этого экземпляра Init.

```csharp
public Init(IZennoPosterProjectModel project, bool log = false)
```

- **log**: Включить или выключить расширенное логирование, если не требуется управление браузером.

---

## Описание методов

### InitVariables

```csharp
public void InitVariables(string author = "")
```

- **author** (string, необязательный): Никнейм или имя автора скрипта. Используется для подписи в ASCII-логотипе проекта.

**Назначение:**

- Отключает лишние логи.
- Генерирует уникальный идентификатор сессии.
- Определяет имя проекта и версию сборки.
- Заполняет ключевые переменные (`projectName`, `varSessionId`, `nameSpace`, `projectTable`).
- Проверяет наличие обязательных переменных (например, `cfgAccRange`).
- Инициализирует вспомогательные модули.
- Выводит ASCII-логотип проекта с версией и авторством.

---

### SetBrowser

```csharp
public void SetBrowser(bool strictProxy = true, string cookies = null)
```

- **strictProxy** (bool, необязательный): Требовать ли обязательного наличия рабочего прокси. Если true и прокси невалиден — выбрасывается исключение.
- **cookies** (string, необязательный): Строка cookies для установки в браузер. Если не указано — берётся из базы данных или файла.

**Назначение:**

- Устанавливает порт инстанса в переменную.
- Логирует запуск браузера.
- Применяет параметры WebGL из базы.
- Настраивает прокси для браузера.
- Устанавливает cookies из строки, базы или файла, с обработкой ошибок.
- Запускает BrowserScan для проверки и исправления таймзоны, если не установлен флаг пропуска.

---

### FilterAccList

```csharp
public void FilterAccList(List<string> dbQueries, bool log = false, bool filterSocials = true)
```

- **dbQueries** (List<string>): Список SQL-запросов для получения аккаунтов.
- **log** (bool, необязательный): Включить логирование процесса фильтрации.
- **filterSocials** (bool, необязательный): Включить фильтрацию по социальным сетям (если требуется).

**Назначение:**

- Формирует список доступных аккаунтов по результатам запросов к базе.
- Поддерживает ручной режим через переменную `acc0Forced`.
- Фильтрует аккаунты по статусу в социальных сетях, если задано.
- Заполняет список аккаунтов в переменных проекта.

---

## Вспомогательные (внутренние) методы

- `Logo(string author, string dllTitle)`: Формирует и выводит ASCII-логотип с версией, названием сборки и автором.
- `CheckVariables(string[] vars)`: Проверяет наличие и заполненность обязательных переменных, выбрасывает исключение при ошибке.
- `SetDisplay(string webGl)`: Устанавливает параметры WebGL для браузера из JSON-строки.
- `GlobalNull()`: Сбрасывает глобальные переменные проекта (используется при ошибках инициализации).

---

## Особенности

- Все методы автоматически используют контекст проекта.
- Для работы с браузером обязательно передавать `instance` в конструктор.
- Логирование настраивается через параметр `log` и интегрируется с внешним логгером.
- Для работы с cookies и WebGL требуется подключённый модуль Sql и корректно заполненные переменные.
- Поддерживается гибкая фильтрация аккаунтов и ручной режим выбора.

---

